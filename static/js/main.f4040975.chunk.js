(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(39)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(14),r=a.n(c),o=a(18),l=a(41),i=a(15),u=a(16),m=a(20),d=a(19),f=(a(28),Object(n.memo)(function(e){var t=e.types,a=e.changeType,n=e.selected;return s.a.createElement("div",{className:"TypeSelect"},t.map(function(e,t){return s.a.createElement("button",{key:e.name,onClick:function(){return a(e)},className:e.name===n.name?"active":""},e.name)}))}));function v(e){return e>9?e:"0".concat(e)}function g(e){var t=v(Math.floor(e/60)),a=v(Math.floor(e%60));return"".concat(t,":").concat(a)}a(29);var p=function(e){var t=e.time,a=e.status,n=e.progress;document.title="(".concat(g(t),") Pomodoro");var c=280*Math.PI,r=c-n/100*c;return s.a.createElement("div",{className:"TimeDisplay"},s.a.createElement("svg",{width:"100%",viewBox:"0 0 ".concat(300," ").concat(300)},s.a.createElement("circle",{stroke:"##F07900",fill:"#fff",strokeWidth:5,r:140,cx:150,cy:150}),s.a.createElement("circle",{stroke:"#D9534F",fill:"transparent",strokeWidth:5,strokeDasharray:c+" "+c,style:{strokeDashoffset:r},r:140,cx:150,cy:150})),s.a.createElement("div",null,s.a.createElement("h1",null,g(t)),s.a.createElement("p",null,a)))},h=(a(30),Object(n.memo)(function(e){var t=e.start,a=e.reset,n=e.pause,c=e.status;return s.a.createElement("div",{className:"Controls"},!c&&s.a.createElement("button",{onClick:t,className:"start"},"Start Timer"),"Finished"===c&&s.a.createElement("button",{onClick:t,className:"start"},"Restart Timer"),("Paused"===c||"Running"===c)&&s.a.createElement("div",null,s.a.createElement("button",{onClick:a,className:"reset"},"Reset"),s.a.createElement("button",{onClick:n,className:"Paused"===c?"resume":"pause"},"Paused"===c?"Resume":"Pause")))})),E=(a(31),Object(n.memo)(function(){return s.a.createElement("div",{className:"Shortcuts"},s.a.createElement("i",{className:"fas fa-keyboard"}),s.a.createElement("div",{className:"Shortcuts-box"},s.a.createElement("div",{className:"Shortcut"},s.a.createElement("div",null,"Play / Pause / Resume"),s.a.createElement("div",null,s.a.createElement("kbd",null,"Space"))),s.a.createElement("div",{className:"Shortcut"},s.a.createElement("div",null,"Reset"),s.a.createElement("div",null,s.a.createElement("kbd",null,"Esc"))),s.a.createElement("div",{className:"Shortcut"},s.a.createElement("div",null,"Pomodoro"),s.a.createElement("div",null,s.a.createElement("kbd",null,"1"),s.a.createElement("kbd",null,"Num1"))),s.a.createElement("div",{className:"Shortcut"},s.a.createElement("div",null,"Short Break"),s.a.createElement("div",null,s.a.createElement("kbd",null,"2"),s.a.createElement("kbd",null,"Num2"))),s.a.createElement("div",{className:"Shortcut"},s.a.createElement("div",null,"Long Break"),s.a.createElement("div",null,s.a.createElement("kbd",null,"3"),s.a.createElement("kbd",null,"Num3")))))})),k=(a(32),Object(n.memo)(function(e){var t=e.sound,a=e.toggleSound;return s.a.createElement("button",{className:"ToggleSound ".concat(t&&"active"),onClick:a,title:t?"Disable Sound":"Enable Sound"},s.a.createElement("i",{className:"fa fa-volume-".concat(t?"up":"mute")}))})),T=(a(33),Object(n.memo)(function(e){var t=e.theme,a=e.setTheme;return s.a.createElement("div",{className:"ToggleTheme"},s.a.createElement("button",{onClick:function(){a("light"===t?"dark":"light")}},"light"===t?s.a.createElement("i",{class:"fa fa-moon"}):s.a.createElement("i",{class:"fa fa-sun"})),s.a.createElement("span",{className:"slider round"}))})),S=(a(34),Object(n.memo)(function(e){var t=e.task,a=e.toggleTask;return s.a.createElement("button",{className:"ToggleTask ".concat(t&&"active"),onClick:a,title:t?"Disable Task":"Enable Task"},s.a.createElement("i",{className:"fa fa-tasks"}))})),b=a(4),y=a(11),N=Object(n.createContext)({}),O=a(42),j=a(43);a(35);function w(e){var t=e.task,a=e.index,c=Object(n.useRef)(),r=Object(n.useContext)(N),o=r.move,l=r.handleStatus,i=Object(O.a)({item:{type:"TASK",id:t.id,index:a},collect:function(e){return{isDragging:e.isDragging()}}}),u=Object(b.a)(i,2),m=u[0].isDragging,d=u[1],f=Object(j.a)({accept:"TASK",hover:function(e,n){if(e.id!==t.id){var s=e,r=t,l=c.current.getBoundingClientRect(),i=(l.bottom-l.top)/2,u=n.getClientOffset().y-l.top;s.order<r.order&&u<i||s.order>r.order&&u>i||(o(e.index,a),e.index=a)}}});return d((0,Object(b.a)(f,2)[1])(c)),s.a.createElement("div",{ref:c,className:m?"Task Dragging":"Task"},s.a.createElement("div",null,t.title),s.a.createElement("span",{onClick:function(){return l(t)}},t.closed?"Open":"Close"))}a(37);var C=Object(n.memo)(function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],r=[{name:"Open",value:!1},{name:"Completed",value:!0},{name:"All",value:-1}],o=Object(n.useState)(JSON.parse(window.localStorage.getItem("pomo.do-tasks"))||[]),l=Object(b.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)(r[0]),d=Object(b.a)(m,2),v=d[0],g=d[1];return Object(n.useEffect)(function(){window.localStorage.setItem("pomo.do-tasks",JSON.stringify(i))},[i]),s.a.createElement(N.Provider,{value:{tasks:i,move:function(e,t){u(Object(y.a)(i,function(a){var n=a[e];a.splice(e,1),a.splice(t,0,n)}))},handleStatus:function(e){console.log("task:",e),u(Object(y.a)(i,function(t){var a=t.findIndex(function(t){return t.id===e.id});t[a].closed=!t[a].closed}))}}},s.a.createElement(f,{types:r,selected:v,changeType:g}),s.a.createElement("div",{className:"Tasks"},s.a.createElement("div",{className:"Tasks-box"},i.length>0?i.filter(function(e){return e.closed===v.value||-1===v.value}).map(function(e,t){return s.a.createElement(w,{key:e.id,index:t,task:e})}):s.a.createElement("div",{className:"Task"},"No Tasks"))),s.a.createElement("div",{className:"Task"},s.a.createElement("input",{value:a,onChange:function(e){return c(e.target.value)},placeholder:"New Task"}),s.a.createElement("span",{onClick:function(){u(Object(y.a)(i,function(e){e.push({id:e.length+1,title:a,closed:!1})})),c("")}},"Add")))}),P=(a(38),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleKeyUp=function(e){"INPUT"!==e.target.tagName&&(" "===e.key?n.pauseTimer():"Escape"===e.key?n.resetTimer():e.key>=1&&e.key<=n.props.types.length&&n.changeType(n.props.types[e.key-1]))},n.changeType=function(e){n.resetTimer(),n.setState({selectedType:e,time:e.time,running:!1})},n.tick=function(){if(n.state.time<=1){n.stopInterval(),n.setState({running:!1}),n.state.sound&&n.sound.play();try{navigator.serviceWorker.register("service-worker.js").then(function(e){e.showNotification("".concat(n.state.selectedType.name," finished!"))})}catch(e){console.log("Notification error",e)}}n.setState(function(e){return{time:e.time-1}})},n.stopInterval=function(){clearInterval(n.state.interval),n.setState({interval:null})},n.startTimer=function(){n.setState(function(e){return{running:!0,interval:setInterval(n.tick,1e3),time:e.time>0?e.time:e.selectedType.time}}),n.sound.pause(),n.sound.currentTime=0},n.resetTimer=function(){n.stopInterval(),n.setState(function(e){return{time:e.selectedType.time,running:!1}})},n.pauseTimer=function(){n.state.interval?n.stopInterval():n.startTimer()},n.getStatus=function(){var e=n.state,t=e.time,a=e.running,s=e.interval;return 0===t?"Finished":a&&!s?"Paused":a?"Running":void 0},n.getProgress=function(){var e=n.state.time,t=n.state.selectedType.time;return(t-e)/t*100},n.handleToggleSound=function(){n.setState(function(e){return{sound:!e.sound}},function(){window.localStorage.setItem("pomo.do-sound",n.state.sound)})},n.handleToggleTask=function(){n.setState(function(e){return{taskStatus:!e.taskStatus}},function(){window.localStorage.setItem("pomo.do-taskStatus",n.state.taskStatus)})},n.setTheme=function(){n.setState(function(e){return{theme:n.state.theme}},function(){window.localStorage.setItem("pomo.do-theme",n.state.theme)})},n.state={selectedType:e.types[0],time:e.types[0].time,interval:null,running:!1,sound:JSON.parse(window.localStorage.getItem("pomo.do-sound"))||!0,theme:JSON.parse(window.localStorage.getItem("pomo.do-theme")),taskStatus:JSON.parse(window.localStorage.getItem("pomo.do-taskStatus"))||null},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.handleKeyUp),Notification.requestPermission(),this.sound=new Audio("bell.flac"),this.sound.preload="auto"}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this.state,t=e.time,a=e.selectedType,n=e.sound,c=e.theme,r=e.taskStatus,o=this.props.types;return console.log(this.state.theme),s.a.createElement("div",{className:"Content"},s.a.createElement("div",{className:"Pomodoro"},s.a.createElement(f,{types:o,selected:a,changeType:this.changeType}),s.a.createElement(p,{time:t,status:this.getStatus(),progress:this.getProgress()}),s.a.createElement(h,{start:this.startTimer,reset:this.resetTimer,pause:this.pauseTimer,status:this.getStatus()}),s.a.createElement("div",{className:"navbar"},s.a.createElement(S,{task:r,toggleTask:this.handleToggleTask}),s.a.createElement(E,null),s.a.createElement(T,{theme:c,toggleTheme:this.setTheme}),s.a.createElement(k,{sound:n,toggleSound:this.handleToggleSound}))),r&&s.a.createElement("div",{className:"TaskPanel"},s.a.createElement(C,null)))}}]),a}(n.Component));P.defaultProps={types:[{name:"Pomodoro",time:1500},{name:"Short Break",time:300},{name:"Long Break",time:900}]};var I=P;r.a.render(s.a.createElement(l.a,{backend:o.a},s.a.createElement(I,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.f4040975.chunk.js.map